--- src/cairo-compiler-private.h.orig	2010-06-18 07:47:12.000000000 -0400
+++ src/cairo-compiler-private.h	2012-07-24 22:41:19.057037415 -0400
@@ -44,6 +44,10 @@
 #include "config.h"
 #endif
 
+#ifdef __MINGW32__
+#define ffs __builtin_ffs
+#endif
+
 /* Size in bytes of buffer to use off the stack per functions.
  * Mostly used by text functions.  For larger allocations, they'll
  * malloc(). */
